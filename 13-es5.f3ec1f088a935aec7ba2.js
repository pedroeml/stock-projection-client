!function(){function t(t,n){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,c=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw c}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+1UZ":function(e,r,i){"use strict";i.r(r),i.d(r,"ProjectionModule",(function(){return F}));var c,a,s=i("ofXK"),u=i("tk/3"),f=i("TEn/"),b=i("5KXc"),l=i("p0FQ"),h=i("PCNd"),p=i("tyNb"),d=i("quSY"),g=i("vkgz"),y=i("eIep"),k=i("lJxs"),m=i("SxV6"),v=i("fXoL"),P=function(){function e(t){n(this,e),this.daysAgo=t.daysAgo,this.meanSquaredError=t.meanSquaredError,this.rootMeanSquaredError=t.rootMeanSquaredError,this.meanAbsolutePercentageError=t.meanAbsolutePercentageError,this.forecasted=t.items.map((function(t){return new w(t)})),this.firstDay=this.calcFirstDay()}return o(e,[{key:"calcFirstDay",value:function(){var e,n,r=t(this.forecasted);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!o.real)break;e=o.date}}catch(c){r.e(c)}finally{r.f()}var i=new Date(e);return i.setDate(i.getDate()-this.daysAgo),i}},{key:"realPrices",get:function(){return this.forecasted.filter((function(t){return t.real})).map((function(t){return[t.date,t.real]}))}},{key:"forecastedPrices",get:function(){return this.forecasted.filter((function(t){return!t.real})).map((function(t){return[t.date,t.forecasted]}))}}]),e}(),w=function t(e){n(this,t),this.date=new Date(e.ds+"T00:00:00"),this.forecasted=e.yhat,this.real=e.y},j=((a=function(){function t(e){n(this,t),this.http=e}return o(t,[{key:"getProjection",value:function(t){var e=(new u.d).append("ticker",t);return this.http.get("/api/projections",{params:e})}}]),t}()).\u0275fac=function(t){return new(t||a)(v.Nb(u.b))},a.\u0275prov=v.Db({token:a,factory:a.\u0275fac}),a),x=((c=function(){function t(e){n(this,t),this.rest=e}return o(t,[{key:"priceForecast",value:function(t){return this.rest.getProjection(t).pipe(Object(k.a)((function(t){return new P(t)})))}}]),t}()).\u0275fac=function(t){return new(t||c)(v.Nb(j))},c.\u0275prov=v.Db({token:c,factory:c.\u0275fac}),c),M=i("KPdS"),O=i("pDGf"),K=i("GhNK");function C(t,e){1&t&&(v.Kb(0,"app-empty-container"),v.Ib(1,"ion-icon",7),v.Jb())}function I(t,e){if(1&t&&v.Ib(0,"app-chart",8),2&t){var n=v.Tb();v.Zb("ticker",n.ticker)("history",n.real)("forecast",n.forecast)}}function J(t,e){1&t&&(v.Kb(0,"div",9),v.Ib(1,"ion-skeleton-text",10),v.Ib(2,"ion-skeleton-text",10),v.Ib(3,"ion-skeleton-text",10),v.Ib(4,"ion-skeleton-text",10),v.Jb())}function A(t,e){if(1&t&&(v.Kb(0,"div",9),v.Kb(1,"ion-text",11),v.Kb(2,"strong"),v.hc(3,"Dias de Preg\xe3o:"),v.Jb(),v.hc(4),v.Jb(),v.Kb(5,"ion-text",11),v.Kb(6,"strong"),v.hc(7,"1\xb0 Dia de Preg\xe3o:"),v.Jb(),v.hc(8),v.Ub(9,"date"),v.Jb(),v.Kb(10,"ion-text",11),v.Kb(11,"strong"),v.hc(12,"Porcentagem de Erro (MAPE):"),v.Jb(),v.hc(13),v.Ub(14,"percent"),v.Jb(),v.Kb(15,"ion-text",11),v.Kb(16,"strong"),v.hc(17,"Erro M\xe9dio (RMSE):"),v.Jb(),v.hc(18),v.Ub(19,"currency"),v.Jb(),v.Jb()),2&t){var n=v.Tb();v.xb(4),v.jc(" ",n.daysAgo," "),v.xb(4),v.jc(" ",v.Vb(9,4,n.firstDay,"dd/MM/yyyy")," "),v.xb(5),v.jc(" ",v.Vb(14,7,n.mape,"1.2")," "),v.xb(5),v.jc(" ",v.Vb(19,10,n.rmse,"BRL")," ")}}var E,D,S,_=((E=function(){function t(e,r){n(this,t),this.route=e,this.service=r,this.stockTicker="",this.subscriptions=new d.a,this.subscriptions.add(this.load())}return o(t,[{key:"load",value:function(){var t=this;return this.captureTicker().pipe(Object(g.a)((function(e){t.stockTicker=e})),Object(y.a)((function(e){return t.service.priceForecast(e)}))).subscribe((function(e){t.realPrices=e.realPrices,t.forecastedPrices=e.forecastedPrices,t.projection=e}))}},{key:"captureTicker",value:function(){return this.route.params.pipe(Object(k.a)((function(t){return t.ticker||""})),Object(m.a)((function(t){return(null==t?void 0:t.length)>0})))}},{key:"isLoading",get:function(){return!this.projection}},{key:"ticker",get:function(){return this.stockTicker}},{key:"real",get:function(){return this.realPrices}},{key:"forecast",get:function(){return this.forecastedPrices}},{key:"firstDay",get:function(){return this.projection.firstDay}},{key:"daysAgo",get:function(){return this.projection.daysAgo}},{key:"mape",get:function(){return this.projection.meanAbsolutePercentageError}},{key:"rmse",get:function(){return this.projection.rootMeanSquaredError}}]),t}()).\u0275fac=function(t){return new(t||E)(v.Hb(p.a),v.Hb(x))},E.\u0275cmp=v.Bb({type:E,selectors:[["app-projection-container"]],decls:12,vars:9,consts:[[3,"translucent"],["slot","start"],["slot","end",3,"baseHref","ticker"],[1,"container",3,"fullscreen"],[4,"ngIf"],[3,"ticker","history","forecast",4,"ngIf"],["class","details",4,"ngIf"],["name","trending-up-outline"],[3,"ticker","history","forecast"],[1,"details"],["animated",""],["color","dark"]],template:function(t,e){1&t&&(v.Kb(0,"ion-header",0),v.Kb(1,"ion-toolbar"),v.Kb(2,"ion-buttons",1),v.Ib(3,"ion-menu-button"),v.Jb(),v.Kb(4,"ion-title"),v.hc(5),v.Jb(),v.Ib(6,"app-search",2),v.Jb(),v.Jb(),v.Kb(7,"ion-content",3),v.gc(8,C,2,0,"app-empty-container",4),v.gc(9,I,1,3,"app-chart",5),v.gc(10,J,5,0,"div",6),v.gc(11,A,20,13,"div",6),v.Jb()),2&t&&(v.Zb("translucent",!0),v.xb(5),v.jc("Proje\xe7\xe3o",e.ticker?": "+e.ticker:" Futura",""),v.xb(1),v.Zb("baseHref","/projecao")("ticker",e.ticker),v.xb(1),v.Zb("fullscreen",!0),v.xb(1),v.Zb("ngIf",!e.ticker),v.xb(1),v.Zb("ngIf",e.ticker),v.xb(1),v.Zb("ngIf",e.ticker&&e.isLoading),v.xb(1),v.Zb("ngIf",e.ticker&&!e.isLoading))},directives:[f.l,f.z,f.c,f.r,f.y,M.a,f.j,s.m,O.a,f.m,K.a,f.v,f.w],pipes:[s.e,s.o,s.c],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-flow:column;margin-left:10%;width:75%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content;margin-bottom:10px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{width:275px;height:20px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   app-empty-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:80px;width:auto}"]}),E),T=[{path:"",component:_},{path:":ticker",component:_}],Z=((S=function t(){n(this,t)}).\u0275mod=v.Fb({type:S}),S.\u0275inj=v.Eb({factory:function(t){return new(t||S)},imports:[[p.h.forChild(T)],p.h]}),S),F=((D=function t(){n(this,t)}).\u0275mod=v.Fb({type:D}),D.\u0275inj=v.Eb({factory:function(t){return new(t||D)},providers:[l.a,x,j],imports:[[b.a,s.b,u.c,f.A,h.a,Z]]}),D)}}])}();