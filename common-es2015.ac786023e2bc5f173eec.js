(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2c9M":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return c}));const n={getEngine(){const t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(t){const e=this.getEngine();if(!e)return;const i=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:i})},notification(t){const e=this.getEngine();if(!e)return;const i=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:i})},selection(){this.impact({style:"light"})},selectionStart(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},s=()=>{n.selection()},r=()=>{n.selectionStart()},o=()=>{n.selectionChanged()},c=()=>{n.selectionEnd()},a=t=>{n.impact(t)}},"6i10":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n={bubbles:{dur:1e3,circles:9,fn:(t,e,i)=>{const n=t*e/i-t+"ms",s=2*Math.PI*e/i;return{r:5,style:{top:9*Math.sin(s)+"px",left:9*Math.cos(s)+"px","animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:(t,e,i)=>{const n=e/i,s=t*n-t+"ms",r=2*Math.PI*n;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":s}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>({r:6,style:{left:9-9*e+"px","animation-delay":-110*e+"ms"}})},lines:{dur:1e3,lines:12,fn:(t,e,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/i-t+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(t,e,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/i-t+"ms"}})}}},AB0y:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("fXoL"),s=i("dTSw");let r=(()=>{class t{constructor(t){this.rest=t}getTickers(){return this.rest.getTickers()}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(s.a))},t.\u0275prov=n.Db({token:t,factory:t.\u0275fac}),t})()},GhNK:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("icpI"),s=i("quSY"),r=function(t){return t.MAX="MAX",t.THREE_YEARS="3A",t.ONE_YEAR="1A",t.YTD="YTD",t.SIX_MONTHS="6M",t.THREE_MONTHS="3M",t.ONE_MONTH="1M",t.FIVE_DAYS="5D",t}({}),o=i("fXoL"),c=i("TEn/"),a=i("ofXK");function l(t,e){1&t&&(o.Kb(0,"ion-thumbnail"),o.Ib(1,"ion-skeleton-text",3),o.Jb())}function u(t,e){if(1&t&&o.Ib(0,"google-chart",4),2&t){const t=o.Tb();o.Zb("title",t.ticker)("type",t.type)("data",t.data)("columns",t.columns)("dynamicResize",!0)("formatters",t.formatters)("options",t.options)}}let h=(()=>{class t{constructor(t){this.loaderService=t,this.timeSlices=r,this.subscriptions=new s.a,this.chartType=n.a.LineChart,this.chartPackage=Object(n.e)(this.chartType),this.currentTimeSlice=r.MAX,this.options=this.createOptions(),this.fiveDaysAgo=this.subtractDate(5),this.oneMonthAgo=this.subtractDate(0,1),this.threeMonthsAgo=this.subtractDate(0,3),this.sixMonthsAgo=this.subtractDate(0,6),this.firstDayOfTheYear=new Date((new Date).getFullYear(),0,1),this.oneYearAgo=this.subtractDate(0,0,1),this.threeYearsAgo=this.subtractDate(0,0,3)}ngOnChanges(t){if(t){const e=t.forecast&&void 0===t.forecast.previousValue&&void 0!==t.forecast.currentValue;(t.history&&void 0===t.history.previousValue&&void 0!==t.history.currentValue||e)&&(this.chartColumns=this.forecast?["Data","Pre\xe7o","Proje\xe7\xe3o"]:["Data","Pre\xe7o"],this.subscriptions.add(this.loadFormatter()),this.updateData())}}get isLoading(){return!this.data||!this.stockFormatters}get type(){return this.chartType}get columns(){return this.chartColumns}get formatters(){return this.stockFormatters}isButtonEnabled(t){const e=this.history&&this.history[0]?this.history[0][0]:void 0;let i=!1;if(!this.isLoading&&void 0!==e)switch(t){case r.THREE_YEARS:i=this.isDateBefore(e,this.threeYearsAgo);break;case r.ONE_YEAR:i=this.isDateBefore(e,this.oneYearAgo);break;case r.YTD:i=this.isDateBefore(e,this.firstDayOfTheYear);break;case r.SIX_MONTHS:i=this.isDateBefore(e,this.sixMonthsAgo);break;case r.THREE_MONTHS:i=this.isDateBefore(e,this.threeMonthsAgo);break;case r.ONE_MONTH:i=this.isDateBefore(e,this.oneMonthAgo);break;case r.FIVE_DAYS:i=this.isDateBefore(e,this.fiveDaysAgo);break;default:i=!0}return i}setFilter(t){switch(this.currentTimeSlice=t,t){case r.THREE_YEARS:this.filteredHistory=this.filterHistory(this.threeYearsAgo);break;case r.ONE_YEAR:this.filteredHistory=this.filterHistory(this.oneYearAgo);break;case r.YTD:this.filteredHistory=this.filterHistory(this.firstDayOfTheYear);break;case r.SIX_MONTHS:this.filteredHistory=this.filterHistory(this.sixMonthsAgo);break;case r.THREE_MONTHS:this.filteredHistory=this.filterHistory(this.threeMonthsAgo);break;case r.ONE_MONTH:this.filteredHistory=this.filterHistory(this.oneMonthAgo);break;case r.FIVE_DAYS:this.filteredHistory=this.filterHistory(this.fiveDaysAgo);break;default:this.filteredHistory=null}this.updateData()}isDateBefore(t,e){return t<=e}filterHistory(t){const e=this.history.findIndex(([e])=>e>=t);return this.history.slice(e-1)}subtractDate(t=0,e=0,i=0){const n=new Date;return i&&n.setFullYear(n.getFullYear()-i),e&&n.setMonth(n.getMonth()-e),t&&n.setDate(n.getDate()-t),n}loadFormatter(){return this.loaderService.loadChartPackages(this.chartPackage).subscribe(()=>{this.stockFormatters=this.chartColumns.map((t,e)=>({formatter:"Data"===t?new google.visualization.DateFormat({pattern:"dd/MM/yyyy"}):new google.visualization.NumberFormat({decimalSymbol:",",groupingSymbol:".",prefix:"R$ "}),colIndex:e}))})}updateData(){var t,e;const i=null!==(t=this.filteredHistory)&&void 0!==t?t:this.history;if(null===(e=this.forecast)||void 0===e?void 0:e.length){const t=i.map(([t,e])=>[t,e,null]),e=this.forecast.map(([t,e])=>[t,null,e]),[n,s]=i[i.length-1];this.data=t.concat([[n,null,s]]).concat(e)}else this.data=i}createOptions(){return{vAxis:{title:"Pre\xe7o",format:"R$ #.###"},hAxis:{title:"Data",format:"MM/yyyy"},animation:{duration:1800,startup:!0,easing:"out"},series:{1:{lineDashStyle:[4,4],color:"#1c91c0"}}}}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(n.d))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-chart"]],inputs:{ticker:"ticker",history:"history",forecast:"forecast"},features:[o.vb],decls:19,vars:18,consts:[[3,"color","disabled","click"],[4,"ngIf"],[3,"title","type","data","columns","dynamicResize","formatters","options",4,"ngIf"],["animated",""],[3,"title","type","data","columns","dynamicResize","formatters","options"]],template:function(t,e){1&t&&(o.Kb(0,"ion-buttons"),o.Kb(1,"ion-button",0),o.Rb("click",(function(){return e.setFilter(e.timeSlices.MAX)})),o.hc(2," M\xc1X "),o.Jb(),o.Kb(3,"ion-button",0),o.Rb("click",(function(){return e.setFilter(e.timeSlices.THREE_YEARS)})),o.hc(4," 3A "),o.Jb(),o.Kb(5,"ion-button",0),o.Rb("click",(function(){return e.setFilter(e.timeSlices.ONE_YEAR)})),o.hc(6," 1A "),o.Jb(),o.Kb(7,"ion-button",0),o.Rb("click",(function(){return e.setFilter(e.timeSlices.YTD)})),o.hc(8," YTD "),o.Jb(),o.Kb(9,"ion-button",0),o.Rb("click",(function(){return e.setFilter(e.timeSlices.SIX_MONTHS)})),o.hc(10," 6M "),o.Jb(),o.Kb(11,"ion-button",0),o.Rb("click",(function(){return e.setFilter(e.timeSlices.THREE_MONTHS)})),o.hc(12," 3M "),o.Jb(),o.Kb(13,"ion-button",0),o.Rb("click",(function(){return e.setFilter(e.timeSlices.ONE_MONTH)})),o.hc(14," 1M "),o.Jb(),o.Kb(15,"ion-button",0),o.Rb("click",(function(){return e.setFilter(e.timeSlices.FIVE_DAYS)})),o.hc(16," 5D "),o.Jb(),o.Jb(),o.gc(17,l,2,0,"ion-thumbnail",1),o.gc(18,u,1,7,"google-chart",2)),2&t&&(o.xb(1),o.ac("color",e.currentTimeSlice===e.timeSlices.MAX?"primary":void 0),o.Zb("disabled",e.isLoading),o.xb(2),o.ac("color",e.currentTimeSlice===e.timeSlices.THREE_YEARS?"primary":void 0),o.Zb("disabled",!e.isButtonEnabled(e.timeSlices.THREE_YEARS)),o.xb(2),o.ac("color",e.currentTimeSlice===e.timeSlices.ONE_YEAR?"primary":void 0),o.Zb("disabled",!e.isButtonEnabled(e.timeSlices.ONE_YEAR)),o.xb(2),o.ac("color",e.currentTimeSlice===e.timeSlices.YTD?"primary":void 0),o.Zb("disabled",!e.isButtonEnabled(e.timeSlices.YTD)),o.xb(2),o.ac("color",e.currentTimeSlice===e.timeSlices.SIX_MONTHS?"primary":void 0),o.Zb("disabled",!e.isButtonEnabled(e.timeSlices.SIX_MONTHS)),o.xb(2),o.ac("color",e.currentTimeSlice===e.timeSlices.THREE_MONTHS?"primary":void 0),o.Zb("disabled",!e.isButtonEnabled(e.timeSlices.THREE_MONTHS)),o.xb(2),o.ac("color",e.currentTimeSlice===e.timeSlices.ONE_MONTH?"primary":void 0),o.Zb("disabled",!e.isButtonEnabled(e.timeSlices.ONE_MONTH)),o.xb(2),o.ac("color",e.currentTimeSlice===e.timeSlices.FIVE_DAYS?"primary":void 0),o.Zb("disabled",e.isLoading),o.xb(2),o.Zb("ngIf",e.isLoading),o.xb(1),o.Zb("ngIf",!e.isLoading))},directives:[c.c,c.b,a.m,c.x,c.v,n.b],styles:["[_nghost-%COMP%]   google-chart[_ngcontent-%COMP%]{width:100%;min-height:350px}[_nghost-%COMP%]   ion-buttons[_ngcontent-%COMP%]{margin-top:10px;flex-flow:row-reverse;padding-right:5%}[_nghost-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{width:80%;height:320px;margin:20px auto 30px}"]}),t})()},KPdS:function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n=i("quSY"),s=i("LRne"),r=i("3E0/"),o=i("fXoL"),c=i("AB0y"),a=i("TEn/"),l=i("ofXK"),u=i("tyNb");const h=function(t,e){return[t,e]};function d(t,e){if(1&t&&(o.Kb(0,"ion-item",4),o.Kb(1,"ion-text",5),o.hc(2),o.Jb(),o.Jb()),2&t){const t=e.$implicit,i=o.Tb(2);o.Zb("routerLink",o.cc(2,h,i.baseHref,t)),o.xb(2),o.jc(" ",t," ")}}function f(t,e){if(1&t&&(o.Kb(0,"ion-list",2),o.gc(1,d,3,5,"ion-item",3),o.Jb()),2&t){const t=o.Tb();o.xb(1),o.Zb("ngForOf",t.tickers)}}const b=function(t){return{"slide-left":t}};let m=(()=>{class t{constructor(t){this.service=t,this.allTickers=[],this.displayTickers=!1,this.inputValue="",this.ticker="",this.baseHref="..",this.subscriptions=new n.a,this.subscriptions.add(this.load())}get tickers(){var t;return null!==(t=this.filteredTickers)&&void 0!==t?t:this.allTickers}hideTickers(t=0){t>0?this.subscriptions.add(Object(s.a)(!1).pipe(Object(r.a)(t)).subscribe(t=>{this.displayTickers=t})):this.displayTickers=!1}showTickers(){var t;this.displayTickers=(null===(t=this.inputValue)||void 0===t?void 0:t.length)>1}filterTickers(t){var e,i;const n=(null!==(i=null===(e=null==t?void 0:t.detail)||void 0===e?void 0:e.value)&&void 0!==i?i:"").toUpperCase();this.filteredTickers=n.length>1?this.allTickers.filter(t=>t.startsWith(n)):null,this.inputValue=n,this.showTickers()}load(){return this.service.getTickers().subscribe(t=>{this.allTickers.push(...t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(c.a))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-search"]],inputs:{baseHref:"baseHref",ticker:"ticker"},decls:2,vars:5,consts:[["placeholder","Ticker","showCancelButton","focus","animated","",3,"value","ngClass","ionCancel","ionBlur","ionClear","ionFocus","ionChange"],["class","slide-left",4,"ngIf"],[1,"slide-left"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],["color","primary"]],template:function(t,e){1&t&&(o.Kb(0,"ion-searchbar",0),o.Rb("ionCancel",(function(){return e.hideTickers()}))("ionBlur",(function(){return e.hideTickers(120)}))("ionClear",(function(){return e.hideTickers()}))("ionFocus",(function(){return e.showTickers()}))("ionChange",(function(t){return e.filterTickers(t)})),o.Jb(),o.gc(1,f,2,1,"ion-list",1)),2&t&&(o.Zb("value",e.ticker)("ngClass",o.bc(3,b,e.displayTickers)),o.xb(1),o.Zb("ngIf",e.displayTickers))},directives:[a.u,a.E,l.k,l.m,a.p,l.l,a.n,u.g,a.D,a.w],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .slide-left[_ngcontent-%COMP%]{-webkit-animation:move .2s;animation:move .2s}[_nghost-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{width:190px;text-align:start}[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{width:110px;max-height:56px;overflow:auto;scroll-snap-align:start;scroll-snap-type:y mandatory;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;scroll-snap-stop:always}[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{scroll-snap-align:start;cursor:pointer}[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{padding:20px 0}@-webkit-keyframes move{0%{transform:translateX(75%)}to{transform:translateX(0)}}@keyframes move{0%{transform:translateX(75%)}to{transform:translateX(0)}}"]}),t})()},NqGI:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}));const n=async(t,e,i,n,s)=>{if(t)return t.attachViewToDom(e,i,s,n);if("string"!=typeof i&&!(i instanceof HTMLElement))throw new Error("framework delegate is missing");const r="string"==typeof i?e.ownerDocument&&e.ownerDocument.createElement(i):i;return n&&n.forEach(t=>r.classList.add(t)),s&&Object.assign(r,s),e.appendChild(r),r.componentOnReady&&await r.componentOnReady(),r},s=(t,e)=>{if(e){if(t)return t.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()}},PCNd:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("ofXK"),s=i("tyNb"),r=i("TEn/"),o=i("icpI"),c=i("dTSw"),a=i("AB0y"),l=i("fXoL");let u=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(e){return new(e||t)},providers:[a.a,c.a],imports:[[n.b,o.c,s.h,r.A]]}),t})()},"U/uv":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("sxy2"),s=i("ItpF"),r=i("2c9M");const o=(t,e)=>{let i,o;const c=(t,n,s)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(t,n);r&&e(r)?r!==i&&(l(),a(r,s)):l()},a=(t,e)=>{i=t,o||(o=i);const s=i;Object(n.g)(()=>s.classList.add("ion-activated")),e()},l=(t=!1)=>{if(!i)return;const e=i;Object(n.g)(()=>e.classList.remove("ion-activated")),t&&o!==i&&i.click(),i=void 0};return Object(s.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:t=>c(t.currentX,t.currentY,r.a),onMove:t=>c(t.currentX,t.currentY,r.b),onEnd:()=>{l(!0),Object(r.e)(),o=void 0}})}},dTSw:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("fXoL"),s=i("tk/3");let r=(()=>{class t{constructor(t){this.http=t}getTickers(){return this.http.get("/api/tickers")}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(s.b))},t.\u0275prov=n.Db({token:t,factory:t.\u0275fac}),t})()},pDGf:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("fXoL"),s=i("TEn/");const r=["*"];let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Bb({type:t,selectors:[["app-empty-container"]],ngContentSelectors:r,decls:7,vars:0,consts:[["color","primary"]],template:function(t,e){1&t&&(n.Yb(),n.Xb(0),n.Kb(1,"ion-text",0),n.Kb(2,"h2"),n.hc(3,"Escolha uma a\xe7\xe3o para continuar"),n.Jb(),n.Jb(),n.Kb(4,"ion-text"),n.Kb(5,"h3"),n.hc(6,"No campo de pesquisa da barra superior digite o c\xf3digo do ticker da a\xe7\xe3o que deseja consultar"),n.Jb(),n.Jb())},directives:[s.w],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column;justify-content:center;text-align:center;height:calc(100vh - 56px)}"]}),t})()},sPtc:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return c}));const n=(t,e)=>null!==e.closest(t),s=(t,e)=>"string"==typeof t&&t.length>0?Object.assign({"ion-color":!0,["ion-color-"+t]:!0},e):e,r=t=>{const e={};return(t=>void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter(t=>null!=t).map(t=>t.trim()).filter(t=>""!==t):[])(t).forEach(t=>e[t]=!0),e},o=/^[a-z][a-z0-9+\-.]*:/,c=async(t,e,i,n)=>{if(null!=t&&"#"!==t[0]&&!o.test(t)){const s=document.querySelector("ion-router");if(s)return null!=e&&e.preventDefault(),s.push(t,i,n)}return!1}}}]);