(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"yg+B":function(t,e,r){"use strict";r.r(e),r.d(e,"StockChartModule",(function(){return J}));var n=r("ofXK"),c=r("tk/3"),o=r("TEn/"),i=r("5KXc"),s=r("p0FQ"),a=r("PCNd"),p=r("fXoL");let b=(()=>{class t{constructor(t){this.http=t}getStockHistory(t){const e=(new c.d).append("ticker",t);return this.http.get("/api/prices",{params:e})}}return t.\u0275fac=function(e){return new(e||t)(p.Nb(c.b))},t.\u0275prov=p.Db({token:t,factory:t.\u0275fac}),t})();var u=r("lJxs");let h=(()=>{class t{constructor(t){this.rest=t}stockHistory(t){return this.rest.getStockHistory(t).pipe(Object(u.a)(t=>t.map(t=>[new Date(t[0]+"T00:00:00"),t[1]])))}}return t.\u0275fac=function(e){return new(e||t)(p.Nb(b))},t.\u0275prov=p.Db({token:t,factory:t.\u0275fac}),t})();var k=r("tyNb"),l=r("quSY"),f=r("vkgz"),y=r("eIep"),d=r("SxV6"),g=r("KPdS"),m=r("pDGf"),w=r("GhNK");function v(t,e){1&t&&(p.Kb(0,"app-empty-container"),p.Ib(1,"ion-icon",6),p.Jb())}function H(t,e){if(1&t&&p.Ib(0,"app-chart",7),2&t){const t=p.Tb();p.Zb("ticker",t.ticker)("history",t.stockHistory)}}let K=(()=>{class t{constructor(t,e){this.route=t,this.service=e,this.stockTicker="",this.subscriptions=new l.a,this.subscriptions.add(this.load())}get ticker(){return this.stockTicker}get stockHistory(){return this.history}load(){return this.captureTicker().pipe(Object(f.a)(t=>{this.stockTicker=t}),Object(y.a)(t=>this.service.stockHistory(t))).subscribe(t=>{this.history=t})}captureTicker(){return this.route.params.pipe(Object(u.a)(t=>t.ticker||""),Object(d.a)(t=>(null==t?void 0:t.length)>0))}}return t.\u0275fac=function(e){return new(e||t)(p.Hb(k.a),p.Hb(h))},t.\u0275cmp=p.Bb({type:t,selectors:[["app-chart-container"]],decls:10,vars:7,consts:[[3,"translucent"],["slot","start"],["slot","end",3,"baseHref","ticker"],[1,"container",3,"fullscreen"],[4,"ngIf"],[3,"ticker","history",4,"ngIf"],["name","pulse-outline"],[3,"ticker","history"]],template:function(t,e){1&t&&(p.Kb(0,"ion-header",0),p.Kb(1,"ion-toolbar"),p.Kb(2,"ion-buttons",1),p.Ib(3,"ion-menu-button"),p.Jb(),p.Kb(4,"ion-title"),p.hc(5),p.Jb(),p.Ib(6,"app-search",2),p.Jb(),p.Jb(),p.Kb(7,"ion-content",3),p.gc(8,v,2,0,"app-empty-container",4),p.gc(9,H,1,2,"app-chart",5),p.Jb()),2&t&&(p.Zb("translucent",!0),p.xb(5),p.jc("Cota\xe7\xe3o",e.ticker?": "+e.ticker:" Hist\xf3rica",""),p.xb(1),p.Zb("baseHref","/cotacao")("ticker",e.ticker),p.xb(1),p.Zb("fullscreen",!0),p.xb(1),p.Zb("ngIf",!e.ticker),p.xb(1),p.Zb("ngIf",e.ticker))},directives:[o.l,o.z,o.c,o.r,o.y,g.a,o.j,n.m,m.a,o.m,w.a],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   app-empty-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:80px;width:auto}"]}),t})();const j=[{path:"",component:K},{path:":ticker",component:K}];let I=(()=>{class t{}return t.\u0275mod=p.Fb({type:t}),t.\u0275inj=p.Eb({factory:function(e){return new(e||t)},imports:[[k.h.forChild(j)],k.h]}),t})(),J=(()=>{class t{}return t.\u0275mod=p.Fb({type:t}),t.\u0275inj=p.Eb({factory:function(e){return new(e||t)},providers:[s.a,h,b],imports:[[i.a,n.b,c.c,o.A,a.a,I]]}),t})()}}]);